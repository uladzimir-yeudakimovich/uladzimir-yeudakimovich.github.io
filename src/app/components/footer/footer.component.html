<footer class="footer">
	<div class="footer__show-modal" *ngIf="showMessageDetales">
		<div class="container">
			<div class="row" [formGroup]="updateMessageForm">
				<h5 class="col-md-3">{{ this.showMessage[0].name }}</h5>
				<h5 class="col-md-3">{{ this.showMessage[0].email }}</h5>
				<textarea class="col-md-6 form-control" formControlName="updateMessage" rows="10"></textarea>
			</div>
			<div class="row footer__show-modal_buttons">
				<button class="btn btn-danger" (click)="updateMessage()">{{ 'buttons.update' | translate }}</button>
				<button class="btn btn-primary" (click)="closeMessage()">{{ 'buttons.close' | translate }}</button>
			</div>
		</div>   
	</div>

	<div class="container footer__message">
		<h4 class="footer__message_title">{{ 'footer.message.comments' | translate }}</h4>
		<div class="container">
			<div class="row footer__message_items">
				<h5 class="col-md-3">{{ 'footer.message.name' | translate }}</h5>
				<h5 class="col-md-3">{{ 'footer.message.email' | translate }}</h5>
				<h5 class="col-md-6">{{ 'footer.message.messages' | translate }}</h5>
			</div>
			<div *ngIf="messagesFromServer">
				<div class="row footer__message_items" *ngFor="let later of messagesFromServer">
					<p class="col-md-3">{{ later.name }}</p>
					<p class="col-md-3">{{ later.email }}</p>
					<p class="col-md-6">&nbsp;{{ later.message | translate }}</p>
				</div>
			</div>
			<div *ngIf="messagesFromLocalStorage">
				<div class="row footer__message_items" *ngFor="let later of messagesFromLocalStorage" (click)="showDetails(messagesFromLocalStorage.indexOf(later))">
					<p class="col-md-3">{{ later.name }}</p>
					<p class="col-md-3">{{ later.email }}</p>
					<p class="col-md-5" style="margin: 10px 0;">&nbsp;{{ later.message }}</p>
					<span class="col-md-1 footer__message_delete" (click)="delete($event)" id="{{ messagesFromLocalStorage.indexOf(later) }}">&times;</span>
				</div>
			</div>
		</div>
	</div>
  
	<div class="container">
		<div class="row">
			<section class="col-md-6">
				<h3 class="contacts_title">{{ 'footer.name' | translate }}</h3>
				<p>&nbsp;{{ 'footer.description' | translate }}</p>
				<ul class="contacts_items">
					<li class="contact-item">
						<mat-icon inlineSVG="src/assets/images/social_icons/phone.svg"></mat-icon>
						<a class="contact-link" href="tel:{{ 'footer.phone' | translate | removeSpaces }}">{{ 'footer.phone' | translate }}</a>
					</li>
					<li class="contact-item">
						<mat-icon inlineSVG="src/assets/images/social_icons/envelope.svg"></mat-icon>
						<a class="contact-link" href="mailto:{{ 'footer.email' | translate }}">{{ 'footer.email' | translate }}</a>
					</li>
					<li class="contact-item">
						<mat-icon inlineSVG="src/assets/images/social_icons/cloud.svg"></mat-icon>
						<a class="contact-link" href="src/assets/CV_Евдокимович Владимир.docx" download>{{ 'footer.cvRussian' | translate }}</a>
					</li>
					<li class="contact-item">
						<mat-icon inlineSVG="src/assets/images/social_icons/cloud.svg"></mat-icon>
						<a class="contact-link" href="src/assets/CV_Uladzimir Yeudakimovich.docx" download>{{ 'footer.cvEnglish' | translate }}</a>
					</li>
				</ul>
				<h4 class="contacts_title">{{ 'footer.subname' | translate }}</h4>
				<ul class="contacts_items">
					<li class="contact-item">
						<mat-icon inlineSVG="src/assets/images/social_icons/linkedin.svg"></mat-icon>
						<a class="contact-link" href="https://www.linkedin.com/in/uladzimir-yeudakimovich" target="_blank" rel="noopener">{{ 'footer.linkedin' | translate }}</a>
					</li>
					<li class="contact-item">
						<mat-icon inlineSVG="src/assets/images/social_icons/github.svg"></mat-icon>
						<a class="contact-link" href="https://github.com/uladzimir-yeudakimovich" target="_blank" rel="noopener">{{ 'footer.github' | translate }}</a>
					</li>
					<li class="contact-item">
						<mat-icon inlineSVG="src/assets/images/social_icons/codewars.svg"></mat-icon>
						<a class="contact-link" href="https://www.codewars.com/users/uladzimir.yeudakimovich" target="_blank" rel="noopener">{{ 'footer.codewars' | translate }}</a>
					</li>
					<li class="contact-item">
						<mat-icon inlineSVG="src/assets/images/social_icons/students-cap.svg"></mat-icon>
						<a class="contact-link" href="https://www.duolingo.com/91YN1" target="_blank" rel="noopener">{{ 'footer.duolingo' | translate }}</a>
					</li>
				</ul>
			</section>

			<form class="col-md-6 footer__register-form" [formGroup]="createMessageForm" (ngSubmit)="onSubmit()">
				<div class="form-group">
					<input class="form-control"
						   type="text"
						   formControlName="firstName"
						   placeholder="{{ 'footer.form.name' | translate }}"
						   [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }"
						   aria-label="firstName"/>
					<div class="invalid-feedback" *ngIf="submitted && f.firstName.errors">
						<div *ngIf="f.firstName.errors.required">{{ 'footer.required.name' | translate }}</div>
					</div>
				</div>
				<div class="form-group">
					<input class="form-control"
						   type="text" formControlName="email"
						   placeholder="{{ 'footer.form.email' | translate }}"
						   [ngClass]="{ 'is-invalid': submitted && f.email.errors }"
						   aria-label="email"/>
					<div class="invalid-feedback" *ngIf="submitted && f.email.errors">
						<div *ngIf="f.email.errors.required">{{ 'footer.required.email' | translate }}</div>
						<div *ngIf="f.email.errors.email">{{ 'footer.required.validEmail' | translate }}</div>
					</div>
				</div>
				<div class="form-group">
					<textarea class="form-control form-control_message"
							  type="text"
							  formControlName="message"
							  placeholder="{{ 'footer.form.message' | translate }}"
							  [ngClass]="{ 'is-invalid': submitted && f.message.errors }"
							  aria-label="message">
					</textarea>
					<div class="invalid-feedback" *ngIf="submitted && f.message.errors">
						<div *ngIf="f.message.errors.required">{{ 'footer.required.message' | translate }}</div>
						<div *ngIf="f.message.errors.minlength">{{ 'footer.required.validMessage' | translate }}</div>
					</div>
				</div>
				<div class="form-group">
					<button class="btn btn-primary">{{ 'buttons.submit' | translate }}</button>
				</div>
			</form>
		</div>
	</div>
</footer> 
